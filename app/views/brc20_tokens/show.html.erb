<!-- HEADER TOKEN -->
<section class="mb-6">
  <h1 class="text-2xl sm:text-3xl font-bold text-gray-100 mb-2">
    Token BRC-20
    <span class="block sm:inline font-mono text-emerald-300 text-sm sm:text-base">
      <%= @token.tick %>
    </span>
  </h1>

  <p class="text-sm text-gray-400">
    <% if @deploy_height %>
      Déployé au bloc
      <%= link_to @deploy_height,
                  block_path(@deploy_height),
                  class: "text-violet-300 underline" %>
    <% else %>
      Bloc de déploiement inconnu
    <% end %>

    <% if @deploy_time %>
      —
      <%= @deploy_time.in_time_zone("Europe/Paris").strftime("%d/%m/%Y %H:%M:%S") %>
    <% end %>
  </p>

  <% if @deploy_event %>
    <p class="text-xs text-gray-500 mt-1">
      Tx deploy :
      <%= link_to @deploy_event.txid[0, 12] + "…",
                  transaction_path(@deploy_event.txid,
                                   block_height: @deploy_event.block_height),
                  class: "text-blue-300 underline font-mono" %>
    </p>
  <% end %>
</section>

<!-- ON-CHAIN -->
<section class="mb-8">
  <h2 class="text-lg sm:text-xl font-semibold text-gray-100 mb-3">
    Infos on-chain
  </h2>

  <div class="grid gap-4 sm:grid-cols-3">
    <!-- Supply / Mint -->
    <div class="bg-gray-800/80 border border-gray-700 rounded-xl p-4">
      <h3 class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2">
        Supply & mint
      </h3>
      <p class="text-xs text-gray-300">
        <strong>Max supply :</strong>
        <%= @max_supply || "n/d" %><br>

        <strong>Mint limit :</strong>
        <%= @mint_limit || "n/d" %><br>

        <strong>Total minté :</strong>
        <%= @total_minted || "n/d" %>
        <% if @mint_volume && @mint_volume.to_f > 0 %>
          <br>
          <strong>Volume mint (unités) :</strong>
          <%= @mint_volume.to_f %>
        <% end %>
      </p>
    </div>

    <!-- Activité -->
    <div class="bg-gray-800/80 border border-gray-700 rounded-xl p-4">
      <h3 class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2">
        Activité
      </h3>
      <p class="text-xs text-gray-300">
        <strong>Événements total :</strong>
        <%= @events_count || 0 %><br>

        <strong>Mints :</strong>
        <%= @mints_count || 0 %><br>

        <strong>Transferts :</strong>
        <%= @transfers_count || 0 %><br>

        <% if @transfer_volume && @transfer_volume.to_f > 0 %>
          <strong>Volume transféré (unités) :</strong>
          <%= @transfer_volume.to_f %>
        <% end %>

        <% if @last_event %>
          <br>
          <span class="text-[11px] text-gray-400">
            Dernière activité&nbsp;:
            bloc <%= @last_event.block_height %>,
            le
            <%= @last_event.block_time.in_time_zone("Europe/Paris")
                    .strftime("%d/%m/%Y %H:%M") %>
          </span>
        <% end %>
      </p>
    </div>

    <!-- Holders -->
    <div class="bg-gray-800/80 border border-gray-700 rounded-xl p-4">
      <h3 class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2">
        Holders & distribution
      </h3>
      <p class="text-xs text-gray-300">
        <strong>Nombre de holders :</strong>
        <%= @holders_count || 0 %><br>

        <strong>Total transféré :</strong>
        <%= @total_transferred || "n/d" %>
      </p>
      <%# plus tard : on pourra ajouter top 10 holders, concentration, etc. %>
    </div>
  </div>
</section>

<!-- OFF-CHAIN (PLACEHOLDER) -->
<section class="mb-8">
  <h2 class="text-lg sm:text-xl font-semibold text-gray-100 mb-3">
    Infos off-chain (à renseigner)
  </h2>

  <div class="bg-gray-800/80 border border-dashed border-gray-600 rounded-xl p-4">
    <p class="text-xs text-gray-400 mb-3">
      Cette section est prévue pour les informations hors blockchain :
      site officiel, réseaux sociaux, whitepaper, description du projet, tags...
      Tu pourras la remplir plus tard (manuellement ou via un crawler).
    </p>

    <div class="grid gap-3 sm:grid-cols-2">
      <div>
        <p class="text-[11px] font-semibold text-gray-500 uppercase mb-1">Site officiel</p>
        <p class="text-xs text-gray-300 italic">Non renseigné</p>
      </div>

      <div>
        <p class="text-[11px] font-semibold text-gray-500 uppercase mb-1">Compte X / Twitter</p>
        <p class="text-xs text-gray-300 italic">Non renseigné</p>
      </div>

      <div>
        <p class="text-[11px] font-semibold text-gray-500 uppercase mb-1">Discord / Telegram</p>
        <p class="text-xs text-gray-300 italic">Non renseigné</p>
      </div>

      <div>
        <p class="text-[11px] font-semibold text-gray-500 uppercase mb-1">Whitepaper / Docs</p>
        <p class="text-xs text-gray-300 italic">Non renseigné</p>
      </div>

      <div class="sm:col-span-2">
        <p class="text-[11px] font-semibold text-gray-500 uppercase mb-1">Résumé du projet</p>
        <p class="text-xs text-gray-300 italic">
          Non renseigné — cette section pourra être remplie à partir des annonces
          sur X / Discord / Medium, ou bien via ton propre backoffice.
        </p>
      </div>
    </div>
  </div>
</section>
