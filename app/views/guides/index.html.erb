<!-- app/views/guides/index.html.erb -->
<div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10">

  <div class="mb-8">
    <h1 class="text-2xl sm:text-3xl font-bold text-gray-100">Guides</h1>
    <p class="text-sm text-gray-400 mt-2">
      Aide, tutos et r√©f√©rences techniques ‚Äî toujours reli√©s aux √©crans de Bitcoin Monitor.
    </p>
  </div>

  <div class="flex w-full flex-col gap-2 sm:w-auto sm:items-end">
          <%= link_to dashboard_path,
            class: "inline-flex items-center justify-center gap-2 rounded-xl border border-gray-800 bg-gray-950/40 px-3 py-2 text-sm font-semibold text-gray-200 hover:bg-gray-900/60 transition" do %>
            ‚¨ÖÔ∏è <span>Retour au dashboard</span>
          <% end %>
  </div>
  <% if @guides.empty? %>
    <div class="bg-gray-900 border border-gray-800 rounded-xl p-6 text-gray-300">
      Aucun guide publi√© pour le moment.
    </div>
  <% else %>
    <div class="grid gap-4">
      <% @guides.each do |guide| %>
        <%= link_to guide_path(guide.slug),
          class: "group block rounded-xl bg-gray-900/70 border border-gray-800 hover:border-gray-700 hover:bg-gray-900 transition p-5" do %>

          <div class="flex items-start justify-between gap-4">
            <div>
              <h2 class="text-base sm:text-lg font-semibold text-gray-100 group-hover:text-white">
                <%= guide.title %>
              </h2>

              <% if guide.respond_to?(:excerpt) && guide.excerpt.present? %>
                <p class="text-sm text-gray-400 mt-2">
                  <%= guide.excerpt %>
                </p>
              <% end %>

              <div class="mt-3 flex flex-wrap gap-2 text-[11px]">
                <% if guide.respond_to?(:category) && guide.category.present? %>
                  <span class="px-2 py-1 rounded-full bg-gray-800 text-gray-300">
                    üß© <%= guide.category %>
                  </span>
                <% end %>

                <% if guide.respond_to?(:app_area) && guide.app_area.present? %>
                  <span class="px-2 py-1 rounded-full bg-gray-800 text-gray-300">
                    üß≠ <%= guide.app_area %>
                  </span>
                <% end %>

                <% if guide.respond_to?(:featured) && guide.featured %>
                  <span class="px-2 py-1 rounded-full bg-yellow-900/30 text-yellow-200 border border-yellow-500/30">
                    ‚≠ê Featured
                  </span>
                <% end %>
              </div>
            </div>

            <div class="text-gray-500 group-hover:text-gray-300">‚Ä∫</div>
          </div>

        <% end %>
      <% end %>
    </div>
  <% end %>

</div>
